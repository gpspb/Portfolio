# Анализ результатов A/B - тестирования по улучшенной рекомендательной системе приложения. #
-----
[Ссылка для отображения интерактивных графиков](https://nbviewer.org/github/gpspb/Portfolio/blob/main/Анализ%20результатов%20AB-тестирования%20новых%20рекомендательных%20алгоритмов%20приложения/recommender_system_test.ipynb)

## Техническое задание:
- Название теста: `recommender_system_test` ;
- Группы: `А (контрольная)`, `B (новая платёжная воронка)`;
- Дата запуска: `2020-12-07`;
- Дата остановки набора новых пользователей: `2020-12-21`;
- Дата остановки: `2021-01-04`;
- Ожидаемое количество участников теста: `15% новых пользователей из региона EU`;
- Назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- Ожидаемый эффект: `за 14 дней с момента регистрации` в системе пользователи покажут улучшение каждой метрики не менее, чем `на 5 процентных пунктов`:
  - конверсии в просмотр карточек товаров — событие `product_page`
  - просмотры корзины — `product_cart`
  - покупки — `purchase`.
  - 
**Данные**

Для реализации проекта была предоставлена следующая информация:

Календарь маркетинговых событий на 2020 год **(ab_project_marketing_events.csv):**
- name - название маркетингового события;
- regions - регионы, в которых будет проводиться рекламная кампания;
- start_dt - дата начала кампании;
- finish_dt - дата завершения кампании.

Все пользователи, зарегистрировавшиеся в интернет-магазине **(final_ab_new_users.csv):**
- user_id - идентификатор пользователя;
- first_date - дата регистрации;
- region - регион пользователя;
- device - устройство, с которого происходила регистрация.

Все события новых пользователей **(final_ab_events.csv):**
- user_id - идентификатор пользователя;
- event_dt - дата и время события;
- event_name - тип события;
- details - дополнительные данные о событии.

Таблица участников тестов **(final_ab_participants.csv):**
- user_id - идентификатор пользователя;
- ab_test - название теста;
- group - группа пользователя.
-----
**Задача**

Проанализировать изменения пользовательской активности в тестовой группе, по сравнению с контрольной. Провести анализ результатов A/B - тестирования, подготовить рекомендации.

-----
**Итоги проекта**
- Часть данных о событиях пользователей (после 30-го декабря) отсутствует в датафрейме. Это может быть вызвано преждевременным завершением тестирования или ошибкой при выгрузке данных.
- После фильтрации данных условие о том, что доля новых пользователей в тесте из `EU` составляет `15%` от общего числа новых пользователей из данного региона не выполняется.
- В данных присутсвует пересечения тестов (`recommender_system_test` и `interface_eu_test`), данные о поведении пользователей нельзя считать изолированными от внешних факторов.
- C 14-го декабря наблюдается резкий скачок количества событий в контрольной группе. Также эта дата стала рубежом, после которого в группу `A` перестали попадать "неактивные" пользователи. 
- Доля "неактивных" пользователей в тестовой группе почти в два раза больше, чем в контрольной.
- Из-за малого размера выборки в тестовой группе мощность тестирования снижается до `60%`.
- Отбор пользователей и тестирование проводилось со второй недели декабря, что могло исказить поведение пользователей, так как декабрь традиционно является периодом аномального поведения пользователей из-за предстоящих новогодних праздников. 
- В контрольной группе значительно больше пользователей, кто совершил `более 15 событий`. Среднее количество событий на пользователя в контрольной группе `на 2шт больше`.
- Время тестирования имеет небольшое пересечение с проводимой маркетинговой акцией `Christmas&New Year Promo`, хотя и вероятнее всего оно не оказало значимого эффекта на поведение пользователей. 
- На каждом из этапов воронки контрольная группа имеет наилучшие показатели конверсии у пользователей. Финальная конверсия в покупку у тестовой группы на `4% меньше`, чем у контрольной (`28% против 32%`).
- Удалось подтвердить только одну альтернативную гипотезу о том, что есть статистически значимая разница между конверсиями в группах (`login -> product_page`). Тестовая группа здесь показала себя хуже на `8,4%`.

-----
**Рекомендации**
- Выяснить причины, по которым отсутствуют данные о событиях пользователей после 30-го декабря. Если тест был завершён досрочно, выяснить почему.
- Проверить корректность системы отбора пользователей в группы и тесты. Наблюдается наличие пользователей не из целевого региона(EU) в участниках. 
- Устранить пересечения пользователей между конкурирующими тестами.
- Настроить отбор пользователей для теста с большим количеством участников для повышения мощности тестирования.
- Провести ретестирование, исключая все вышеперечисленные ошибки, а также перенеся дату отбора и проведения с декабря на более стабильный месяц. Во время тестирования и отбора исключить проведение маркетинговых акций в целевом регионе. 
